{% extends "bootstrap/base.html" %}

{% block title %}管理者HOME{% endblock %}
{% block head %}
    {{ super() }}
    <link rel="stylesheet", href="{{ url_for('static', filename='css/adminHome.css') }}">
{% endblock %}

{% block body %}
<div class="container">
    <h3>管理者HOME</h3>
    <hr>
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="{{ category }}">{{ message }}</div>
            {% endfor %}
            <hr>
        {% endif %}
    {% endwith %}
    <h4>希望シフト{{ TARGET_DATE_STR }}の提出状況</h4>
    {% if submitArr %}
        <section class="submitTable">
            <span class="tabelSpan headLabel">氏名</span>
            <span class="tabelSpan headLabel">作成日時</span>
            <span class="tabelSpan headLabel">最終編集者</span>
            <span for="empty" class="tabelSpan headLabel"></span>
            {% for submit in submitArr %}
                <span class="tabelSpan">{{ submit.name }}</span>
                <span class="tabelSpan">{{ submit.created_at }}</span>
                <span class="tabelSpan">{{ LAST_EDIT_LIST[submit.is_user_submission] }}</span>
                <a class="tabelSpan" href="/{{ submit.user_id }}/user/create/{{ PART_FULL_ENG_LIST[submit.is_full_time] }}/hopeShift" role="button">編集</a>
            {% endfor %}
        </section>
        <br>
        <p>「編集」から希望シフトに変更を加えることが出来ます</p>
        <a href="/admin/create/shift" role="button">シフト作成画面へ</a>
    {% else %}
        <p>まだ希望シフトの提出がありません</p>
    {% endif %}
    <hr>
    <h4>ユーザー情報</h4>
    {% if userArr %}
        <section class="userTable">
            <span class="tabelSpan headLabel">氏名</span>
            <span class="tabelSpan headLabel">区分</span>
            <span class="tabelSpan headLabel">レベル</span>
            <span for="empty" class="tabelSpan headLabel"></span>
            {% for user in userArr %}
                <span class="tabelSpan">{{ user.name }}</span>
                <span class="tabelSpan">{{ PART_FULL_JA_LIST[user.is_full_time] }}</span>
                <span class="tabelSpan">{{ user.level }}</span>
                <a class="tabelSpan" href="/admin/delete/userRecord/{{ user.id }}" role="button">削除</a>
            {% endfor %}
        </section>
        <br>
        <p><a href="/admin/edit/partLevel" role="button">レベル変更（パート・アルバイト）</a><br>
        パート・アルバイトから社員への変更は、社員として新規登録し直してください</p>
    {% else %}
        <p>ユーザーの登録がありません</p>
    {% endif %}
    <hr>
    <a href="/logout" role="button">ログアウト</a>
</div>
{% endblock %}
